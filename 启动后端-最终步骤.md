# 启动后端服务 - 最终步骤（重要！）

## ⚠️ 关键问题：必须在项目目录中执行所有命令

您当前在用户主目录，需要先进入项目目录。

## 完整步骤（按顺序执行）

```powershell
# 步骤 1：进入项目目录（重要！）
cd "C:\Users\周科伽、\Desktop\zh-bn-legal-corpus-main"

# 步骤 2：验证是否在正确目录
ls pyproject.toml
# 应该能看到 pyproject.toml 文件

# 步骤 3：删除用户主目录的虚拟环境（如果存在）
# 注意：这个命令在项目目录中执行，删除的是用户主目录的 .venv
Remove-Item -Recurse -Force "C:\Users\周科伽、\.venv" -ErrorAction SilentlyContinue

# 步骤 4：在项目目录中创建虚拟环境
python -m venv .venv

# 步骤 5：激活虚拟环境
& .\.venv\Scripts\Activate.ps1
# 激活成功后，命令提示符前面会显示 (.venv)

# 步骤 6：升级 pip
python -m pip install --upgrade pip

# 步骤 7：安装依赖（现在在项目目录中，应该能成功）
pip install -e .[dev]

# 步骤 8：启动服务
uvicorn backend.app.main:app --host 127.0.0.1 --port 8000 --reload
```

## 快速版本（复制粘贴）

```powershell
cd "C:\Users\周科伽、\Desktop\zh-bn-legal-corpus-main"
Remove-Item -Recurse -Force "C:\Users\周科伽、\.venv" -ErrorAction SilentlyContinue
python -m venv .venv
& .\.venv\Scripts\Activate.ps1
python -m pip install --upgrade pip
pip install -e .[dev]
uvicorn backend.app.main:app --host 127.0.0.1 --port 8000 --reload
```

## 验证步骤

每步执行后，检查：

1. **进入项目目录后：**
   ```powershell
   pwd
   # 应该显示：C:\Users\周科伽、\Desktop\zh-bn-legal-corpus-main
   ```

2. **激活虚拟环境后：**
   ```powershell
   # 命令提示符前面应该有 (.venv)
   # 执行 python -c "import sys; print(sys.executable)"
   # 应该显示项目目录中的 .venv\Scripts\python.exe
   ```

3. **安装依赖成功后：**
   ```powershell
   # 应该能看到所有依赖包安装成功
   # 最后应该显示：Successfully installed ...
   ```

4. **启动服务成功后：**
   ```
   INFO:     Uvicorn running on http://127.0.0.1:8000
   ```

